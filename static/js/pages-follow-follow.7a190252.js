(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-follow-follow"],{"0b32":function(t,e,o){"use strict";o.r(e);var i=o("5300"),n=o("4376");for(var a in n)"default"!==a&&function(t){o.d(e,t,(function(){return n[t]}))}(a);o("c771");var l,s=o("f0c5"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"b36991b0",null,!1,i["a"],l);e["default"]=r.exports},4376:function(t,e,o){"use strict";o.r(e);var i=o("dab3"),n=o.n(i);for(var a in i)"default"!==a&&function(t){o.d(e,t,(function(){return i[t]}))}(a);e["default"]=n.a},5300:function(t,e,o){"use strict";var i={uniLoadMore:o("c54e").default},n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",{staticClass:"view"},[o("v-uni-scroll-view",{staticClass:"scroll-v list",style:{height:t.vHeight+"px"},attrs:{enableBackToTop:"true","scroll-top":t.scrollTop,"scroll-y":"true","scroll-with-animation":"true"},on:{scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.scroll.apply(void 0,arguments)},scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.loadMore()}}},[t._l(t.followedList,(function(t,e){return o("v-uni-view",{key:t.id},[o("news-item",{attrs:{options:t}})],1)})),o("uni-load-more",{staticClass:"loading-more",attrs:{status:t.isLoading?"loading":t.total>t.followedList.length?"more":"nomore",showIcon:!0}})],2)],1)},a=[];o.d(e,"b",(function(){return n})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return i}))},7666:function(t,e,o){var i=o("24fb");e=i(!1),e.push([t.i,"\nuni-image[data-v-b36991b0]{width:unset;height:%?210?%}\n.view[data-v-b36991b0]{font-size:%?32?%;width:%?750?%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.scroll-v[data-v-b36991b0]{-webkit-box-flex:1;-webkit-flex:1;flex:1;\r\n\r\n\r\n\r\n-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;\r\nwidth:%?750?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.news-item[data-v-b36991b0]{height:%?320?%;position:relative;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;\r\n  /* border-bottom-width: 1rpx;\r\n\t\tborder-bottom-style: solid;\r\n\t\tborder-bottom-color: #ebebeb; */padding-left:%?32?%;padding-right:%?32?%}.loading-more[data-v-b36991b0]{-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding-top:10px;padding-bottom:10px;text-align:center}.loading-more-text[data-v-b36991b0]{font-size:%?28?%;color:#999}",""]),t.exports=e},c771:function(t,e,o){"use strict";var i=o("faec"),n=o.n(i);n.a},dab3:function(t,e,o){"use strict";(function(t){var i=o("ee27");o("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o("f3f3")),a=o("2f62"),l=o("be9d"),s=i(o("e0ae")),r={data:function(){return{followedList:[],pages:0,currentPage:1,total:0,refreshing:!1,refreshFlag:!1,pulling:!1,vHeight:0,refreshText:"正在加载",isLoading:!1,scrollTop:0,old:{scrollTop:0}}},components:{newsItem:s.default},computed:(0,n.default)({},(0,a.mapState)(["auth","user","hasLogin","lastTab"])),methods:(0,n.default)({},(0,a.mapMutations)(["setAuth","login","setLastTab"]),{loadMore:function(){var t=this;void 0!==this.currentPage&&(this.isLoading=!0,setTimeout((function(){t.currentPage++,t.getList()}),500))},onrefresh:function(){},onpullingdown:function(){},scroll:function(t){this.old.scrollTop=t.detail.scrollTop},goTop:function(){this.scrollTop=this.old.scrollTop,this.$nextTick((function(){this.scrollTop=0}))},getList:function(){var e=this;uni.request({url:l.baseUrl+"/news/follow",method:"GET",header:{Auth:this.auth},data:{pageNum:this.currentPage,pageSize:20},success:function(t){if("200"==t.data.status){var o=[];o=t.data.data.records,e.followedList=e.followedList.concat(o),e.total=t.data.data.total,e.pages=t.data.data.pages,e.isLoading=!1}else uni.showToast({title:t.data.message,icon:"none"});e.isLoading=!1},fail:function(e){t("log",e.data," at pages/follow/follow.nvue:116")}})},getScreenHeight:function(){var t=this;uni.getSystemInfo({success:function(e){t.vHeight=e.screenHeight-84}})}}),onLoad:function(){try{var t=uni.getStorageSync("user");t?this.login(t):this.logout();var e=uni.getStorageSync("auth");e?this.setAuth(e):this.setAuth("")}catch(o){uni.navigateTo({url:"../login/login"})}this.hasLogin?(uni.startPullDownRefresh(),this.getScreenHeight()):uni.navigateTo({url:"../login/login"})},onPullDownRefresh:function(){this.followedList=[],this.getList(),uni.stopPullDownRefresh()},onTabItemTap:function(e){1==e.index&&1==this.lastTab&&this.goTop(),this.setLastTab(e.index),""==this.followedList&&this.auth&&this.user&&uni.startPullDownRefresh(),this.hasLogin||(t("log",789," at pages/follow/follow.nvue:177"),uni.redirectTo({url:"../login/login"}))},onNavigationBarButtonTap:function(t){1==t.index&&this.goTop()},onReachBottom:function(){var t=this;this.followedList.length>=this.total?this.loadingText="没有更多数据了!":(this.isLoading=!0,setTimeout((function(){t.loadMore()}),300))}};e.default=r}).call(this,o("0de9")["log"])},faec:function(t,e,o){var i=o("7666");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=o("4f06").default;n("42c65358",i,!0,{sourceMap:!1,shadowMode:!1})}}]);