(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-searchResult","pages-media-media-item-two"],{"01c4":function(t,e,i){"use strict";i.r(e);var n=i("091e"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"091e":function(t,e,i){"use strict";var n=i("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;i("c7d5");var a=n(i("89cb")),o={name:"media-item-two",props:{options:{type:Object,default:function(t){return{}}}},components:{cacheImage:a.default},data:function(){return{avatar:""}},created:function(){this.handleImage()},methods:{goMedia:function(t){uni.navigateTo({url:"../media/media?name="+t.name+"&mediaId="+t.mediaId})}}};e.default=o},"23ea":function(t,e,i){var n=i("d6a2");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("3aaece5f",n,!0,{sourceMap:!1,shadowMode:!1})},3216:function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"media-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goMedia(t.options)}}},[i("v-uni-view",{staticClass:"media-header"},[i("v-uni-view",{staticClass:"media-avatar",attrs:{"hover-class":"news-item-hover"}},[i("cache-image",{attrs:{iconUrl:t.options.icon}})],1),i("v-uni-text",{staticClass:"media-name",attrs:{"hover-class":"news-item-hover"}},[t._v(t._s(t.options.name))])],1),i("v-uni-view",{staticClass:"media-info"},[i("v-uni-text",{staticClass:"info"},[t._v(t._s(t.options.description))])],1)],1)},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},"5d60":function(t,e,i){"use strict";i.r(e);var n=i("3216"),a=i("01c4");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("fbcc");var r,s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"27e04460",null,!1,n["a"],r);e["default"]=c.exports},"6ba1":function(t,e,i){"use strict";i.r(e);var n=i("e05b"),a=i("f0c9");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("bbd7");var r,s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"c971ef8e",null,!1,n["a"],r);e["default"]=c.exports},8483:function(t,e,i){"use strict";(function(t){var n=i("ee27");i("99af"),i("4160"),i("a630"),i("d3b7"),i("25f0"),i("3ca3"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("7aa5")),o=n(i("5d60")),r=n(i("1da2")),s=i("c7d5"),c={components:{newsItem:a.default,uniLoadMore:r.default,mediaItemTwo:o.default},data:function(){return{tabBars:[{id:0,name:"资讯"},{id:1,name:"媒体"}],vHeight:null,newsList:[],keyword:"",positions:[164,500],tabIndex:null,pulling:!1}},onLoad:function(t){var e=this,i=t.keyword;i&&(this.keyword=i,this.updateSearchInput_H5(i)),this.setHeight(),setTimeout((function(){e.initData()}),100)},onNavigationBarSearchInputClicked:function(t){uni.redirectTo({url:"./search?keyword=".concat(this.keyword)})},onUnload:function(){this.newsList=[]},methods:{tabChange:function(t){var e="number"===typeof t?t:t.target.current||t.detail.current;this.switchTab(e)},loadMore:function(e){t("log","load".concat(e," current ").concat(this.newsList[e].currentPage)," at pages/search/searchResult.nvue:136"),void 0!==this.newsList[e].currentPage&&(this.newsList[e].currentPage>=1&&this.newsList[e].total<=this.newsList[e].data.length||this.requestData(e))},switchTab:function(e){if(this.tabIndex!==e){this.tabIndex=e;this.newsList[e];t("log","switch to ".concat(e)," at pages/search/searchResult.nvue:153"),0!==this.newsList[e].data.length||this.newsList[e].isLoading?t("log","有数据或加载中 不加载更多"," at pages/search/searchResult.nvue:155"):(t("log","无数据 加载更多"," at pages/search/searchResult.nvue:158"),this.requestData(e))}},requestData:function(e){var i=this;if(!this.newsList[e].isLoading)if(t("log",this.keyword," at pages/search/searchResult.nvue:165"),this.keyword){var n=this.newsList[e].currentPage,a="".concat(s.baseUrl,0===e?"/news":"/news/media");this.newsList[e].isLoading=!0;this.newsList[e].isLoading;uni.request({url:"".concat(a,"?keyword=").concat(this.keyword,"&pageNum=").concat(n,"&pageSize=20"),success:function(t){if("200"===t.data.status.toString()){var n=t.data.data,a=Array.from(n.records);i.newsList[e].data=i.newsList[e].data.concat(a),i.newsList[e].total=n.total,i.newsList[e].pages=n.pages,i.newsList[e].currentPage++,setTimeout((function(){i.newsList[e].isLoading=!1}),1e3)}else uni.showToast({title:t.data.message,icon:"none"}),i.newsList[e].isLoading=!1},fail:function(t){uni.showToast({title:t.data,icon:"none"}),i.newsList[e].isLoading=!1}})}else uni.showToast({title:"没有关键词",icon:"none"})},initData:function(){var t=this;this.tabIndex=0,this.tabBars.forEach((function(e){t.newsList.push({data:[],total:0,pages:0,currentPage:1,refreshing:!1,refreshFlag:!1,refreshText:"",isLoading:!1,loadingText:"加载更多..."})})),this.requestData(0)},setHeight:function(){var t=this;uni.getSystemInfo({success:function(e){t.vHeight=e.screenHeight-44-44}})},updateSearchInput:function(t){var e=plus.webview.currentWebview();e.setTitleNViewSearchInputFocus(!1);var i=e.getStyle().titleNView;i&&uni.getSystemInfo({success:function(n){n.platform,i.searchInput.placeholder=t,e.setStyle({titleNView:i})}})},updateSearchInput_H5:function(t){var e=document.querySelectorAll(".uni-input-input[type=search]")[0];e.placeholder=t}}};e.default=c}).call(this,i("0de9")["log"])},bbd7:function(t,e,i){"use strict";var n=i("cf2b"),a=i.n(n);a.a},cf2b:function(t,e,i){var n=i("e5be");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("51b4948e",n,!0,{sourceMap:!1,shadowMode:!1})},d6a2:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".media-item[data-v-27e04460]{width:%?750?%;border-bottom-width:%?2?%;border-bottom-color:#f8f8f8;\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.media-header[data-v-27e04460]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;height:%?80?%;padding-top:%?12?%;margin-left:%?32?%}.media-avatar[data-v-27e04460]{height:%?50?%;width:%?50?%;margin-right:%?16?%;overflow:hidden}.media-name[data-v-27e04460]{font-weight:700;margin-top:%?5?%}.info[data-v-27e04460]{margin-top:%?16?%;margin-bottom:%?32?%;font-size:%?32?%;color:#989898}.media-info[data-v-27e04460]{padding-left:%?32?%;padding-right:%?32?%}",""]),t.exports=e},e05b:function(t,e,i){"use strict";var n={uniLoadMore:i("1da2").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"search-tab"},t._l(t.tabBars,(function(e,n){return i("v-uni-view",{key:n,staticClass:"tab"},[i("v-uni-text",{staticClass:"font17",class:t.tabIndex===n?"focused":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tabChange(n)}}},[t._v(t._s(e.name))])],1)})),1),i("v-uni-view",{staticClass:"tab-bar",style:"transform: translate("+375*t.tabIndex+"rpx, 0rpx);"},[i("v-uni-view",{staticClass:"tab-line"})],1),i("v-uni-swiper",{staticClass:"swiper-box",staticStyle:{flex:"1"},style:"height:"+t.vHeight+"px",attrs:{current:t.tabIndex},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.tabChange.apply(void 0,arguments)}}},t._l(t.newsList,(function(e,n){return i("v-uni-swiper-item",{key:n,staticClass:"swiper-item"},[i("v-uni-scroll-view",{staticClass:"scroll-v list",attrs:{enableBackToTop:"true","scroll-y":!0},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.loadMore(n)}}},[0===n?t._l(e.data,(function(t,e){return i("v-uni-view",{key:t.id},[i("news-item",{attrs:{options:t}})],1)})):t._l(e.data,(function(t,e){return i("v-uni-view",{key:t.id},[i("media-item-two",{attrs:{options:t}})],1)})),i("uni-load-more",{staticClass:"loading-more",attrs:{status:e.isLoading?"loading":e.total>e.data.length?"more":"nomore",showIcon:!0}})],2)],1)})),1)],1)},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},e5be:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".content[data-v-c971ef8e]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\nwidth:%?750?%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;overflow:hidden;background-color:#fff;position:relative}.font17[data-v-c971ef8e]{width:%?88?%;text-align:center;font-size:%?34?%;color:#878787}.focused[data-v-c971ef8e]{font-size:%?34?%;color:#1577fe}.search-tab[data-v-c971ef8e]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;box-sizing:border-box;\nwidth:%?750?%;height:%?72?%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding-top:%?16?%}.tab[data-v-c971ef8e]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\nwidth:%?375?%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.tab-bar[data-v-c971ef8e]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\nwidth:%?375?%;\n  /* position: absolute; */-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:translate(187.5px);transform:translate(187.5px);-webkit-transition-duration:.1s;transition-duration:.1s}.tab-line[data-v-c971ef8e]{bottom:0;height:%?8?%;background-color:#1577fe;width:%?88?%\n  /* transition-property: left; */}.swiper-box[data-v-c971ef8e]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.swiper-item[data-v-c971ef8e]{-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.scroll-v[data-v-c971ef8e]{-webkit-box-flex:1;-webkit-flex:1;flex:1;\n-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;\nwidth:%?750?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.refresh[data-v-c971ef8e]{width:%?750?%;height:64px;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.refresh-view[data-v-c971ef8e]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.refresh-icon[data-v-c971ef8e]{width:30px;height:30px;-webkit-transition-duration:.5s;transition-duration:.5s;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transform:rotate(0deg);transform:rotate(0deg);-webkit-transform-origin:15px 15px;transform-origin:15px 15px}.refresh-icon-active[data-v-c971ef8e]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.loading-icon[data-v-c971ef8e]{width:20px;height:20px;margin-right:5px;color:#999}.loading-text[data-v-c971ef8e]{margin-left:2px;font-size:16px;color:#999}.loading-more[data-v-c971ef8e]{width:%?750?%;height:%?80?%;\ndisplay:-ms-flex;display:-webkit-flex;display:-webkit-box;display:flex;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;\nalign-items:center}.loading-more-text[data-v-c971ef8e]{font-size:%?34?%;color:#999}",""]),t.exports=e},f0c9:function(t,e,i){"use strict";i.r(e);var n=i("8483"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},fbcc:function(t,e,i){"use strict";var n=i("23ea"),a=i.n(n);a.a}}]);