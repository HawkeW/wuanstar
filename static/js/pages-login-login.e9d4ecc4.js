(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"19cc":function(t,n,e){var a=e("24fb");n=a(!1),n.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\tuni-button[data-v-5bf923b3]{border-radius:0}uni-button[data-v-5bf923b3]::hover{background-color:#1577fe}\n\t.content[data-v-5bf923b3]{width:%?750?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.header[data-v-5bf923b3]{margin-top:%?24?%;margin-bottom:%?88?%;color:#1577fe;text-align:center;font-size:%?52?%;font-weight:700}.input-wrapper[data-v-5bf923b3]{width:%?686?%;height:%?92?%;border-width:%?2?%;border-color:#e5e5e5;margin-bottom:%?32?%}.input[data-v-5bf923b3]{height:%?92?%;width:%?686?%;padding-left:%?32?%}.placeholder[data-v-5bf923b3]{position:absolute;top:%?24?%;left:%?32?%;color:#8d8d8d;font-size:%?32?%}.reset-wrapper[data-v-5bf923b3]{-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;margin-bottom:%?248?%}.reset[data-v-5bf923b3]{margin-top:%?16?%;font-size:%?28?%}.button[data-v-5bf923b3]{width:%?686?%;margin-bottom:%?38?%;font-size:%?36?%;font-weight:700}.error[data-v-5bf923b3]{position:absolute;right:0;top:%?90?%;font-size:%?10?%;color:#dd524d}",""]),t.exports=n},"367d":function(t,n,e){"use strict";e.r(n);var a=e("97d4"),r=e.n(a);for(var i in a)"default"!==i&&function(t){e.d(n,t,(function(){return a[t]}))}(i);n["default"]=r.a},"5a0f":function(t,n,e){"use strict";e.r(n);var a=e("b5d3"),r=e("367d");for(var i in r)"default"!==i&&function(t){e.d(n,t,(function(){return r[t]}))}(i);e("5cc6");var s,o=e("f0c5"),u=Object(o["a"])(r["default"],a["b"],a["c"],!1,null,"5bf923b3",null,!1,a["a"],s);n["default"]=u.exports},"5cc6":function(t,n,e){"use strict";var a=e("f8c2"),r=e.n(a);r.a},"97d4":function(t,n,e){"use strict";var a=e("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("8e6e"),e("ac6a"),e("456d"),e("4917"),e("6b54");var r=a(e("bd86")),i=e("be9d"),s=e("2f62");function o(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,a)}return e}function u(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?o(Object(e),!0).forEach((function(n){(0,r.default)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var c={data:function(){return{user:{email:"",password:""},emailStatus:0,pwdStatus:!0}},computed:u({},(0,s.mapState)(["auth"])),methods:u({},(0,s.mapMutations)(["login","setAuth"]),{submit:function(){var t=this,n=this.validateForm(this.user);n&&uni.request({url:i.baseUrl+"/user/token",method:"POST",data:{email:this.user.email,pwd:this.user.password},success:function(n){if("200"!==n.data.status.toString()){if("密码错误"==n.data.message)return void(t.pwdStatus=!1);if("电子邮箱未注册"==n.data.message)return void(t.emailStatus=2);uni.showModal({content:n.data.message,showCancel:!1})}else{t.setAuth(n.data.data.Auth);var e={email:t.user.email,name:n.data.data.userInfo.nickname,id:n.data.data.userInfo.userId};console.log(e),t.login(e),uni.switchTab({url:"../home/home"})}},fail:function(t){uni.showModal({content:t.data.message,showCancel:!1})}})},validateForm:function(t){var n="^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(.[a-zA-Z0-9_-]+)+$";return""==t.email||""==t.password?(uni.showToast({title:"信息填写不完整",icon:"none"}),!1):!!t.email.match(n)||(this.emailStatus=1,!1)}})};n.default=c},b5d3:function(t,n,e){"use strict";var a,r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"content"},[e("v-uni-text",{staticClass:"header"},[t._v("欢迎回来!")]),e("v-uni-form",{on:{submit:function(n){arguments[0]=n=t.$handleEvent(n),t.submit.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"input-wrapper"},[t.user.email?t._e():e("v-uni-text",{staticClass:"placeholder"},[t._v("请输入电子邮箱")]),e("v-uni-input",{staticClass:"input",attrs:{type:"text",maxlength:"30"},model:{value:t.user.email,callback:function(n){t.$set(t.user,"email",n)},expression:"user.email"}}),1==t.emailStatus?e("v-uni-text",{staticClass:"error"},[t._v("电子邮箱格式错误")]):t._e(),2==t.emailStatus?e("v-uni-text",{staticClass:"error"},[t._v("电子邮箱未注册")]):t._e()],1),e("v-uni-view",{staticClass:"input-wrapper"},[t.user.password?t._e():e("v-uni-text",{staticClass:"placeholder"},[t._v("请输入登录密码")]),e("v-uni-input",{staticClass:"input",attrs:{type:"password",maxlength:"24"},model:{value:t.user.password,callback:function(n){t.$set(t.user,"password",n)},expression:"user.password"}}),t.pwdStatus?t._e():e("v-uni-text",{staticClass:"error"},[t._v("密码错误")])],1),e("v-uni-view",{staticClass:"reset-wrapper"},[e("v-uni-navigator",{attrs:{url:"./reset"}},[e("v-uni-text",{staticClass:"reset"},[t._v("忘记密码 ？")])],1)],1),e("v-uni-button",{staticClass:"button",attrs:{"form-type":"submit",type:"primary"}},[t._v("登录")]),e("v-uni-navigator",{attrs:{url:"./register"}},[e("v-uni-button",{staticClass:"button",attrs:{type:"primary",plain:"true"}},[t._v("注册")])],1)],1)],1)},i=[];e.d(n,"b",(function(){return r})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return a}))},f8c2:function(t,n,e){var a=e("19cc");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=e("4f06").default;r("1d2067f4",a,!0,{sourceMap:!1,shadowMode:!1})}}]);