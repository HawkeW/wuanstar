(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-media-media","pages-media-media-item"],{"0189":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nuni-page-body[data-v-11d626e5]{width:100%;min-height:100%;display:-webkit-box;display:-webkit-flex;display:flex}\r\n.tabs[data-v-11d626e5]{-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;overflow:hidden;background-color:#fff;\r\n\t}.scroll-h[data-v-11d626e5]{width:%?750?%;height:%?80?%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;\r\n\twhite-space:nowrap\r\n\t\r\n\t/* flex-wrap: nowrap; */\r\n\t/* border-color: #cccccc;\n\t\t\tborder-bottom-style: solid;\n\t\t\tborder-bottom-width: 1px; */}.refresh[data-v-11d626e5]{width:%?750?%;height:64px;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.refresh-view[data-v-11d626e5]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.refresh-icon[data-v-11d626e5]{width:30px;height:30px;-webkit-transition-duration:.5s;transition-duration:.5s;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transform:rotate(0deg);transform:rotate(0deg);-webkit-transform-origin:15px 15px;transform-origin:15px 15px}.refresh-icon-active[data-v-11d626e5]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.loading-icon[data-v-11d626e5]{width:20px;height:20px;margin-right:5px;color:#999}.loading-text[data-v-11d626e5]{margin-left:2px;font-size:16px;color:#999}.loading-more[data-v-11d626e5]{-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding-top:10px;padding-bottom:10px;text-align:center}.loading-more-text[data-v-11d626e5]{font-size:%?28?%;color:#999}",""])},1417:function(t,e,n){"use strict";n.r(e);var i=n("eec8"),a=n("303e");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("da3b");var r,c=n("f0c5"),s=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"11d626e5",null,!1,i["a"],r);e["default"]=s.exports},"2c0f":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("ce35"),a=(n("c7d5"),{name:"mediaitem",props:{options:{type:Object,default:function(t){return{}}}},computed:{time:function(){new Date,new Date(this.options.publishDate);return i.dateUtils.format(this.options.publishDate)}},methods:{click:function(){this.$emit("click")},close:function(t){this.$emit("close")}}});e.default=a},"303e":function(t,e,n){"use strict";n.r(e);var i=n("d191"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},"350b":function(t,e,n){"use strict";var i=n("80e1"),a=n.n(i);a.a},"51b7":function(t,e,n){"use strict";n.r(e);var i=n("2c0f"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},"73ad":function(t,e,n){var i=n("0189");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("53338155",i,!0,{sourceMap:!1,shadowMode:!1})},"75ae":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,"uni-image[data-v-a1b7bc5a]{width:unset;height:%?210?%}.view[data-v-a1b7bc5a]{font-size:%?32?%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.flex-row[data-v-a1b7bc5a]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.flex-col[data-v-a1b7bc5a]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.list-cell[data-v-a1b7bc5a]{width:%?750?%;padding:0 %?30?%}.uni-list-cell-hover[data-v-a1b7bc5a]{background-color:#eee}.media-item[data-v-a1b7bc5a]{height:%?320?%;position:relative;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;\n  /* border-bottom-width: 1rpx;\n\t\tborder-bottom-style: solid;\n\t\tborder-bottom-color: #ebebeb; */padding-top:%?32?%;padding-left:%?32?%;padding-right:%?32?%}.media-item-hover[data-v-a1b7bc5a]{background-color:#eee}.item-time[data-v-a1b7bc5a]{font-size:%?24?%;margin-top:%?24?%}.media-item-line[data-v-a1b7bc5a]{position:absolute;left:%?30?%;right:%?30?%;bottom:0;height:%?1?%;background-color:#ebebeb}.over[data-v-a1b7bc5a]{overflow:hidden;text-overflow:ellipsis;\ndisplay:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;\n\n}.content-img[data-v-a1b7bc5a]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.content-flex[data-v-a1b7bc5a]{width:%?460?%}.media-title[data-v-a1b7bc5a]{overflow:hidden;text-overflow:ellipsis;font-size:%?36?%;font-weight:700;\n/*  flex: 1; */lines:2;\n  /* height: 98rpx; */line-height:%?48?%;margin-bottom:%?16?%}.media-sum[data-v-a1b7bc5a]{color:#747474;font-size:%?32?%;height:%?90?%;line-height:%?44?%}.main-img[data-v-a1b7bc5a]{margin-left:%?16?%;height:%?210?%;width:%?210?%;overflow:hidden}.media-info[data-v-a1b7bc5a]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.info-text[data-v-a1b7bc5a]{margin-right:%?20?%;color:#999;font-size:%?24?%}.media-foot[data-v-a1b7bc5a]{margin-top:%?25?%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.close-l[data-v-a1b7bc5a]{position:absolute;width:%?18?%;height:%?1?%;background-color:#aaa}.close-h[data-v-a1b7bc5a]{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.close-v[data-v-a1b7bc5a]{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}",""])},"76ce":function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.options.title?n("v-uni-view",{staticClass:"media-item view",attrs:{"hover-class":"media-item-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.click.apply(void 0,arguments)}}},[t.options.image?n("v-uni-view",{staticClass:"media-content view content-img"},[n("v-uni-view",{staticClass:"content content-flex"},[n("v-uni-text",{staticClass:"media-title over"},[t._v(t._s(t.options.title))]),n("v-uni-text",{staticClass:"media-sum over"},[t._v(t._s(t.options.summary))])],1),n("v-uni-view",{staticClass:"main-img"},[n("v-uni-image",{staticStyle:{width:"210rpx"},attrs:{src:t.options.image,mode:"aspectFill"}})],1)],1):n("v-uni-view",{staticClass:"media-content view"},[n("v-uni-view",{staticClass:"content"},[n("v-uni-text",{staticClass:"media-title over"},[t._v(t._s(t.options.title))]),n("v-uni-text",{staticClass:"media-sum over"},[t._v(t._s(t.options.summary))])],1)],1),n("v-uni-text",{staticClass:"item-time"},[t._v(t._s(t.time))]),n("v-uni-view",{staticClass:"media-item-line",staticStyle:{position:"absolute"}})],1):t._e()},o=[];n.d(e,"b",function(){return a}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return i})},"80e1":function(t,e,n){var i=n("75ae");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("9bbe3b7a",i,!0,{sourceMap:!1,shadowMode:!1})},b658:function(t,e,n){"use strict";n.r(e);var i=n("76ce"),a=n("51b7");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("350b");var r,c=n("f0c5"),s=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"a1b7bc5a",null,!1,i["a"],r);e["default"]=s.exports},d191:function(t,e,n){"use strict";var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("b658")),o=(i(n("1da2")),n("c7d5")),r={components:{mediaItem:a.default},watch:{isLoading:{handler:"change"}},data:function(){return{mediaList:[],mediaId:"",mediaName:"",pages:0,currentPage:1,total:0,isLoading:!1,loadingText:"加载更多",vHeight:0,refreshing:!1,refreshFlag:!1}},methods:{onrefresh:function(){},change:function(t){console.log(t)},loadMore:function(){var t=this;void 0!==this.currentPage&&(this.isLoading=!0,setTimeout(function(){t.currentPage++,t.getList()},500))},getList:function(){var t=this;uni.request({url:o.baseUrl+"/news",method:"GET",data:{media:this.mediaName,pageNum:this.currentPage,pageSize:20},success:function(e){if("200"==e.data.status){var n=[];n=e.data.data.records,t.mediaList=t.mediaList.concat(n),t.total=e.data.data.total,t.pages=e.data.data.pages,t.isLoading=!1}else uni.showModal({showCancel:!1,content:e.data.message})}})},goDetail:function(t){uni.navigateTo({url:"../detail/detail?id="+t})},getScreenHeight:function(){var t=this;uni.getSystemInfo({success:function(e){t.vHeight=e.screenHeight}})}},onLoad:function(t){var e=t.name;uni.setNavigationBarTitle({title:e}),this.getScreenHeight(),this.mediaName=e,this.getList()}};e.default=r},da3b:function(t,e,n){"use strict";var i=n("73ad"),a=n.n(i);a.a},eec8:function(t,e,n){"use strict";var i={"uni-load-more":n("1da2").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"tabs"},[n("v-uni-scroll-view",{staticClass:"scroll-v list",style:{height:t.vHeight+"px"},attrs:{enableBackToTop:"true","scroll-y":!0},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.loadMore.apply(void 0,arguments)}}},[t._l(t.mediaList,function(e,i){return n("v-uni-view",{key:e.id},[n("media-item",{attrs:{options:e},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goDetail(e.newsId)}}})],1)}),n("uni-load-more",{staticClass:"loading-more",attrs:{status:t.isLoading?"loading":t.pages>=t.currentPage?"more":"nomore",showIcon:!0},on:{clickLoadMore:function(e){arguments[0]=e=t.$handleEvent(e),t.loadMore.apply(void 0,arguments)}}})],2)],1)},o=[];n.d(e,"b",function(){return a}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return i})}}]);