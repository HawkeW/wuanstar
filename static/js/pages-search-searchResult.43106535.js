(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-searchResult","pages-media-media-item-two"],{"320b":function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"media-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goMedia(t.options)}}},[i("v-uni-view",{staticClass:"media-header"},[i("v-uni-view",{staticClass:"media-avatar",attrs:{"hover-class":"news-item-hover"}},[i("cache-image",{attrs:{iconUrl:t.options.icon}})],1),i("v-uni-text",{staticClass:"media-name",attrs:{"hover-class":"news-item-hover"}},[t._v(t._s(t.options.name))])],1),i("v-uni-view",{staticClass:"media-info"},[i("v-uni-text",{staticClass:"info"},[t._v(t._s(t.options.description))])],1)],1)},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},"5de4":function(t,e,i){"use strict";var n=i("bab1"),a=i.n(n);a.a},"5e23":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".content[data-v-30cb8f9c]{-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;overflow:hidden;background-color:#fff}.font17[data-v-30cb8f9c]{font-size:%?34?%;color:#878787}.focused[data-v-30cb8f9c]{font-size:%?34?%;color:#1577fe}.search-tab[data-v-30cb8f9c]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;box-sizing:border-box;\nwidth:%?750?%;height:%?80?%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding-top:%?16?%}.tab[data-v-30cb8f9c]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\nwidth:%?375?%;\n\t\t/* height: 80rpx; */-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.tab-index[data-v-30cb8f9c]{height:%?8?%;background-color:#1577fe;left:%?138?%;width:%?88?%;top:%?-8?%;background-color:#007aff;-webkit-transition-duration:.2s;transition-duration:.2s;-webkit-transition-property:left;transition-property:left}.swiper-box[data-v-30cb8f9c]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.scroll-v[data-v-30cb8f9c]{-webkit-box-flex:1;-webkit-flex:1;flex:1;\n-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;\nwidth:%?750?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.refresh[data-v-30cb8f9c]{width:%?750?%;height:64px;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.refresh-view[data-v-30cb8f9c]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.refresh-icon[data-v-30cb8f9c]{width:30px;height:30px;-webkit-transition-duration:.5s;transition-duration:.5s;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transform:rotate(0deg);transform:rotate(0deg);-webkit-transform-origin:15px 15px;transform-origin:15px 15px}.refresh-icon-active[data-v-30cb8f9c]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.loading-icon[data-v-30cb8f9c]{width:20px;height:20px;margin-right:5px;color:#999}.loading-text[data-v-30cb8f9c]{margin-left:2px;font-size:16px;color:#999}.loading-more[data-v-30cb8f9c]{-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding-top:10px;padding-bottom:10px;text-align:center}.loading-more-text[data-v-30cb8f9c]{font-size:%?28?%;color:#999}",""]),t.exports=e},"69ca":function(t,e,i){"use strict";i.r(e);var n=i("f64d"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"852b":function(t,e,i){"use strict";i.r(e);var n=i("d68f"),a=i("e272");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("5de4");var r,s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"30cb8f9c",null,!1,n["a"],r);e["default"]=c.exports},8893:function(t,e,i){"use strict";(function(t){var n=i("ee27");i("99af"),i("4160"),i("a630"),i("d3b7"),i("25f0"),i("3ca3"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("ee9e")),o=n(i("a62e")),r=n(i("d446")),s=i("c4d0"),c={components:{newsItem:a.default,uniLoadMore:r.default,mediaItemTwo:o.default},data:function(){return{tabBars:[{id:0,name:"资讯"},{id:1,name:"媒体"}],vHeight:null,newsList:[],keyword:"",positions:[138,500],tabIndex:null,pulling:!1}},onLoad:function(t){var e=this;this.keyword=t.keyword,this.setHeight(),setTimeout((function(){e.initData()}),100)},onNavigationBarSearchInputClicked:function(t){uni.redirectTo({url:"./search?keyword=".concat(this.keyword)})},onUnload:function(){this.newsList=[]},methods:{tabChange:function(t){var e="number"===typeof t?t:t.target.current||t.detail.current;this.switchTab(e)},loadMore:function(t){void 0!==this.newsList[t].currentPage&&(this.newsList[t].currentPage>=1&&this.newsList[t].total<=this.newsList[t].data.length||this.requestData(t))},switchTab:function(e){if(this.tabIndex!==e){this.tabIndex=e;this.newsList[e];t("log","switch to ".concat(e)," at pages/search/searchResult.nvue:138"),0!==this.newsList[e].data.length||this.newsList[e].isLoading?t("log","有数据或加载中 不加载更多"," at pages/search/searchResult.nvue:140"):(t("log","无数据 加载更多"," at pages/search/searchResult.nvue:143"),this.requestData(e))}},requestData:function(e){var i=this;if(!this.newsList[e].isLoading){var n=this.newsList[e].currentPage,a="".concat(s.baseUrl,0===e?"/news":"/news/media");this.newsList[e].isLoading=!0;this.newsList[e].isLoading;uni.request({url:"".concat(a,"?keyword=").concat(this.keyword,"&pageNum=").concat(n,"&pageSize=20"),success:function(n){if("200"===n.data.status.toString()){var a=n.data.data,o=Array.from(a.records);i.newsList[e].data=i.newsList[e].data.concat(o),t("log",o," at pages/search/searchResult.nvue:162"),t("log",i.newsList," at pages/search/searchResult.nvue:163"),i.newsList[e].total=a.total,i.newsList[e].pages=a.pages,i.newsList[e].currentPage++,setTimeout((function(){i.newsList[e].isLoading=!1}),1e3)}else uni.showToast({title:n.data.message,icon:"none"}),i.newsList[e].isLoading=!1},fail:function(t){uni.showToast({title:t.data,icon:"none"}),i.newsList[e].isLoading=!1}})}},initData:function(){var t=this;this.tabIndex=0,this.tabBars.forEach((function(e){t.newsList.push({data:[],total:0,pages:0,currentPage:1,refreshing:!1,refreshFlag:!1,refreshText:"",isLoading:!1,loadingText:"加载更多..."})})),this.requestData(0)},setHeight:function(){var t=this;uni.getSystemInfo({success:function(e){t.vHeight=e.screenHeight-44-44}})},updateSearchInput:function(t){var e=plus.webview.currentWebview();e.setTitleNViewSearchInputFocus(!1);var i=e.getStyle().titleNView;i&&uni.getSystemInfo({success:function(n){n.platform,i.searchInput.placeholder=t,e.setStyle({titleNView:i})}})}}};e.default=c}).call(this,i("0de9")["log"])},a62e:function(t,e,i){"use strict";i.r(e);var n=i("320b"),a=i("69ca");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("eeab");var r,s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"b15439c4",null,!1,n["a"],r);e["default"]=c.exports},bab1:function(t,e,i){var n=i("5e23");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("5192b882",n,!0,{sourceMap:!1,shadowMode:!1})},bbeb:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".media-item[data-v-b15439c4]{border-bottom-width:%?2?%;border-bottom-color:#f8f8f8;\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.media-header[data-v-b15439c4]{\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;height:%?80?%;padding-top:%?12?%;margin-left:%?32?%}.media-avatar[data-v-b15439c4]{height:%?50?%;width:%?50?%;margin-right:%?16?%;overflow:hidden}.media-name[data-v-b15439c4]{font-weight:700;margin-top:%?5?%}.info[data-v-b15439c4]{margin-top:%?16?%;margin-bottom:%?32?%;font-size:%?32?%;color:#989898}.media-info[data-v-b15439c4]{padding-left:%?32?%;padding-right:%?32?%}",""]),t.exports=e},d68e:function(t,e,i){var n=i("bbeb");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("b2150a5e",n,!0,{sourceMap:!1,shadowMode:!1})},d68f:function(t,e,i){"use strict";var n={uniLoadMore:i("d446").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{},[i("v-uni-view",{staticClass:"search-tab"},t._l(t.tabBars,(function(e,n){return i("v-uni-view",{key:n,staticClass:"tab"},[i("v-uni-text",{staticClass:"font17",class:t.tabIndex===n?"focused":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tabChange(n)}}},[t._v(t._s(e.name))])],1)})),1),i("v-uni-view",{staticClass:"tab-index",style:"left:"+t.positions[t.tabIndex]/2+"px;"})],1),i("v-uni-swiper",{staticClass:"swiper-box",staticStyle:{flex:"1"},attrs:{current:t.tabIndex},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.tabChange.apply(void 0,arguments)}}},t._l(t.newsList,(function(e,n){return i("v-uni-swiper-item",{key:n},[i("v-uni-scroll-view",{staticClass:"scroll-v list",style:"height: "+t.vHeight+"px;",attrs:{enableBackToTop:"true","scroll-y":!0},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.loadMore(n)}}},[i("v-uni-view",0===n?t._l(e.data,(function(t,e){return i("v-uni-view",{key:t.id},[i("news-item",{attrs:{options:t}})],1)})):t._l(e.data,(function(t,e){return i("v-uni-view",{key:t.id},[i("media-item-two",{attrs:{options:t}})],1)})),1),i("uni-load-more",{staticClass:"loading-more",attrs:{status:e.isLoading?"loading":e.total>e.data.length?"more":"nomore",showIcon:!0}})],1)],1)})),1)],1)},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},e272:function(t,e,i){"use strict";i.r(e);var n=i("8893"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},eeab:function(t,e,i){"use strict";var n=i("d68e"),a=i.n(n);a.a},f64d:function(t,e,i){"use strict";var n=i("ee27");i("99af"),i("c975"),i("ac1f"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("c4d0"),o=n(i("d8ee")),r={name:"media-item-two",props:{options:{type:Object,default:function(t){return{}}}},components:{cacheImage:o.default},data:function(){return{avatar:""}},created:function(){this.handleImage()},methods:{goMedia:function(t){uni.navigateTo({url:"../media/media?name="+t.media+"&mediaId="+t.mediaId})},handleImage:function(){var t=this.options.image.replace(/&amp;/g,"&");-1!=t.indexOf("//")?this.avatar=t:this.avatar="".concat(a.baseUrl,"/file?fileName=").concat(t,"&type=image")}}};e.default=r}}]);