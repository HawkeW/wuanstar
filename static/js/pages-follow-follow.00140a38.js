(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-follow-follow"],{"0ec4":function(n,t,e){"use strict";var o=e("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(e("cebc")),a=e("2f62"),r=e("c7d5"),l=o(e("7aa5")),s={data:function(){return{followedList:[],pages:0,currentPage:1,total:0,refreshing:!1,refreshFlag:!1,pulling:!1,vHeight:0,refreshText:"正在加载",isLoading:!1,scrollTop:0,old:{scrollTop:0}}},components:{newsItem:l.default},computed:(0,i.default)({},(0,a.mapState)(["auth","user","hasLogin","lastTab"])),onLoad:function(){try{var n=uni.getStorageSync("user");n?this.login(n):this.logout();var t=uni.getStorageSync("auth");t?this.setAuth(t):this.setAuth("")}catch(e){uni.showToast({title:e,icon:"none"})}this.hasLogin&&this.auth&&this.user?uni.startPullDownRefresh():uni.showModal({content:"登录失败，请重新登录",confirmText:"去登录",success:function(n){n.confirm&&uni.navigateTo({url:"../login/login"})}})},onPullDownRefresh:function(){this.followedList=[],this.getScreenHeight(),this.getList(),uni.stopPullDownRefresh()},onTabItemTap:function(n){console.log(n),console.log(this.lastTab),1==n.index&&1==this.lastTab&&this.goTop(),this.setLastTab(n.index)},onNavigationBarButtonTap:function(n){console.log(n),1==n.index&&this.goTop()},methods:(0,i.default)({},(0,a.mapMutations)(["setAuth","login","setLastTab"]),{loadMore:function(){var n=this;console.log("loadmore"),void 0!==this.currentPage&&(this.isLoading=!0,setTimeout(function(){n.currentPage++,n.getList()},500))},onrefresh:function(){uni.startPullDownRefresh()},onpullingdown:function(){uni.startPullDownRefresh()},scroll:function(n){this.old.scrollTop=n.detail.scrollTop},goTop:function(){console.log("gotop"),this.scrollTop=this.old.scrollTop,this.$nextTick(function(){this.scrollTop=0})},getList:function(){var n=this;uni.request({url:r.baseUrl+"/news/follow",method:"GET",header:{Auth:this.auth},data:{pageNum:this.currentPage,pageSize:20},success:function(t){if("200"==t.data.status){var e=[];e=t.data.data.records,n.followedList=n.followedList.concat(e),n.total=t.data.data.total,n.pages=t.data.data.pages,n.isLoading=!1}else uni.showModal({showCancel:!1,content:t.data.message})}})},getScreenHeight:function(){var n=this;uni.getSystemInfo({success:function(t){n.vHeight=t.screenHeight-84}})}})};t.default=s},"12e6":function(n,t,e){"use strict";e.r(t);var o=e("0ec4"),i=e.n(o);for(var a in o)"default"!==a&&function(n){e.d(t,n,function(){return o[n]})}(a);t["default"]=i.a},"1b1d":function(n,t,e){"use strict";e.r(t);var o=e("e03d"),i=e("12e6");for(var a in i)"default"!==a&&function(n){e.d(t,n,function(){return i[n]})}(a);e("81a4");var r,l=e("f0c5"),s=Object(l["a"])(i["default"],o["b"],o["c"],!1,null,"ba5e7240",null,!1,o["a"],r);t["default"]=s.exports},"81a4":function(n,t,e){"use strict";var o=e("ce2e"),i=e.n(o);i.a},"9cfe":function(n,t,e){t=n.exports=e("2350")(!1),t.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nuni-image[data-v-ba5e7240]{width:unset;height:%?210?%}\r\n.view[data-v-ba5e7240]{font-size:%?32?%;width:%?750?%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.flex-row[data-v-ba5e7240]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.flex-col[data-v-ba5e7240]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.list-cell[data-v-ba5e7240]{width:%?750?%\r\n\t/* padding: 0 30rpx; */}.uni-list-cell-hover[data-v-ba5e7240]{background-color:#eee}.news-item[data-v-ba5e7240]{height:%?320?%;position:relative;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;\r\n\t/* border-bottom-width: 1rpx;\n\t\tborder-bottom-style: solid;\n\t\tborder-bottom-color: #ebebeb; */padding-left:%?32?%;padding-right:%?32?%}.news-item-hover[data-v-ba5e7240]{background-color:#eee}.media-header[data-v-ba5e7240]{\r\n\tdisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n\t-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;height:%?80?%;padding-top:%?12?%}.media-avatar[data-v-ba5e7240]{height:%?50?%;width:%?50?%;margin-right:%?16?%;overflow:hidden}.media-name[data-v-ba5e7240]{font-weight:700;margin-top:%?5?%}.item-time[data-v-ba5e7240]{position:absolute;font-size:%?24?%;right:%?36?%;top:%?30?%}.news-item-line[data-v-ba5e7240]{position:absolute;left:%?30?%;right:%?30?%;bottom:0;height:%?1?%;background-color:#ebebeb}.over[data-v-ba5e7240]{overflow:hidden;text-overflow:ellipsis;\r\n\tdisplay:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;\r\n\tlines:2}.content-img[data-v-ba5e7240]{\r\n\tdisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n\t-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.media-content[data-v-ba5e7240]{margin-bottom:%?40?%}.content-flex[data-v-ba5e7240]{width:%?460?%}.media-title[data-v-ba5e7240]{font-size:%?36?%;font-weight:700;lines:2;line-height:%?48?%;margin-bottom:%?16?%}.media-sum[data-v-ba5e7240]{color:#747474;font-size:%?32?%;line-height:%?44?%}.main-img[data-v-ba5e7240]{margin-left:%?16?%;height:%?210?%;width:%?210?%;overflow:hidden}.media-info[data-v-ba5e7240]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.info-text[data-v-ba5e7240]{margin-right:%?20?%;color:#999;font-size:%?24?%}.media-foot[data-v-ba5e7240]{margin-top:%?25?%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.max-close-view[data-v-ba5e7240]{position:relative;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;width:%?40?%;height:%?30?%;line-height:%?30?%;border-width:%?1?%;border-style:solid;border-color:#aaa;border-radius:4px;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;text-align:center}.close-l[data-v-ba5e7240]{position:absolute;width:%?18?%;height:%?1?%;background-color:#aaa}.close-h[data-v-ba5e7240]{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.close-v[data-v-ba5e7240]{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}",""])},ce2e:function(n,t,e){var o=e("9cfe");"string"===typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);var i=e("4f06").default;i("5f45c108",o,!0,{sourceMap:!1,shadowMode:!1})},e03d:function(n,t,e){"use strict";var o={"uni-load-more":e("1da2").default},i=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("v-uni-view",{staticClass:"view"},[e("v-uni-scroll-view",{staticClass:"scroll-v list",style:{height:n.vHeight+"px"},attrs:{enableBackToTop:"true","scroll-top":n.scrollTop,"scroll-y":"true","scroll-with-animation":"true"},on:{scroll:function(t){arguments[0]=t=n.$handleEvent(t),n.scroll.apply(void 0,arguments)},scrolltolower:function(t){arguments[0]=t=n.$handleEvent(t),n.loadMore()}}},[n._l(n.followedList,function(n,t){return e("v-uni-view",{key:n.id},[e("news-item",{attrs:{options:n}})],1)}),e("uni-load-more",{staticClass:"loading-more",attrs:{status:n.isLoading?"loading":n.total>n.followedList.length?"more":"nomore",showIcon:!0}})],2)],1)},a=[];e.d(t,"b",function(){return i}),e.d(t,"c",function(){return a}),e.d(t,"a",function(){return o})}}]);