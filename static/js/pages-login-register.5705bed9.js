(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-register"],{"04e5":function(t,e,i){"use strict";var a=i("ec71"),n=i.n(a);n.a},"0b31":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{staticClass:"header"},[t._v("注册")]),i("v-uni-form",[i("v-uni-view",{staticClass:"input-wrapper"},[t.user.username?t._e():i("v-uni-text",{staticClass:"placeholder"},[t._v("用户名")]),i("v-uni-input",{staticClass:"input",attrs:{type:"text",maxlength:"20"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e)},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.nameStatus=0,t.formStatus=!0}},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1),i("v-uni-view",{staticClass:"error-wrapper"},[2==t.nameStatus?i("v-uni-text",{staticClass:"error"},[t._v("用户名重复")]):t._e()],1),i("v-uni-view",{staticClass:"input-wrapper"},[t.user.email?t._e():i("v-uni-text",{staticClass:"placeholder"},[t._v("电子邮箱")]),i("v-uni-input",{staticClass:"input",attrs:{type:"text",maxlength:"30"},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t.emailStatus=0,t.formStatus=!0}},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),i("v-uni-view",{staticClass:"error-wrapper"},[1==t.emailStatus?i("v-uni-text",{staticClass:"error"},[t._v("电子邮箱格式错误")]):t._e(),2==t.emailStatus?i("v-uni-text",{staticClass:"error"},[t._v("电子邮箱已注册")]):t._e()],1),i("v-uni-view",{staticClass:"input-wrapper"},[t.user.pwd?t._e():i("v-uni-text",{staticClass:"placeholder"},[t._v("输入密码")]),i("v-uni-input",{staticClass:"input",attrs:{type:"password",maxlength:"24"},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t.pwdStatus=0,t.formStatus=!0}},model:{value:t.user.pwd,callback:function(e){t.$set(t.user,"pwd",e)},expression:"user.pwd"}})],1),i("v-uni-view",{staticClass:"error-wrapper"},[1==t.pwdStatus?i("v-uni-text",{staticClass:"error"},[t._v("密码可由6-24位的数字、大小写英文组成")]):t._e()],1),i("v-uni-view",{staticClass:"input-wrapper"},[t.pwd2?t._e():i("v-uni-text",{staticClass:"placeholder"},[t._v("确认密码")]),i("v-uni-input",{staticClass:"input",attrs:{type:"password",maxlength:"24"},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t.pwdStatus=0,t.formStatus=!0}},model:{value:t.pwd2,callback:function(e){t.pwd2=e},expression:"pwd2"}})],1),i("v-uni-view",{staticClass:"error-wrapper"},[2==t.pwdStatus?i("v-uni-text",{staticClass:"error"},[t._v("两次密码输入不一致")]):t._e()],1),i("v-uni-view",{staticClass:"error-wrapper"},[t.formStatus?t._e():i("v-uni-text",{staticClass:"form-error"},[t._v("信息填写不完整")])],1),i("v-uni-button",{staticClass:"button",attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toSubmit.apply(void 0,arguments)}}},[t._v("注册")]),i("v-uni-view",{staticClass:"login-wrapper"},[i("v-uni-text",{staticClass:"login",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toLogin.apply(void 0,arguments)}}},[t._v("已有账号，登录")])],1)],1)],1)},s=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}))},"190b":function(t,e,i){"use strict";(function(t){i("ac1f"),i("466d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("c7d5"),n={data:function(){return{user:{username:"",email:"",pwd:""},pwd2:"",formStatus:!0,emailStatus:0,pwdStatus:0,nameStatus:!0}},computed:{},methods:{toSubmit:function(){this.checkForm()},checkForm:function(){var e="[a-zA-Z0-9]{6,24}",i="^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(.[a-zA-Z0-9_-]+)+$";if(this.user.username&&this.user.email&&this.user.pwd&&this.pwd2){if(this.formStatus=!0,!this.user.email.match(i))return this.emailStatus=1,void t("log",this.emailStatus," at pages/login/register.nvue:79");this.user.pwd.match(e)?this.user.pwd==this.pwd2?this.register(this.user):this.pwdStatus=2:this.pwdStatus=1}else this.formStatus=!1},register:function(t){var e=this;uni.request({url:a.baseUrl+"/user/newUser",method:"POST",data:t,success:function(t){if("200"==t.data.status)uni.showToast({title:"注册成功",icon:"success"}),setTimeout((function(){uni.navigateBack()}),2e3);else{if("email已存在"==t.data.message)return void(e.emailStatus=2);uni.showToast({title:t.data.message+"\n请修改用户名，或稍后重试",icon:"none"})}}})},toLogin:function(){uni.navigateBack()}}};e.default=n}).call(this,i("0de9")["log"])},"3e81":function(t,e,i){"use strict";i.r(e);var a=i("0b31"),n=i("63db");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("04e5");var r,u=i("f0c5"),o=Object(u["a"])(n["default"],a["b"],a["c"],!1,null,"8f8ecf50",null,!1,a["a"],r);e["default"]=o.exports},6373:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"\nuni-button[data-v-8f8ecf50]{border-radius:0}uni-button[data-v-8f8ecf50]::hover{background-color:#1577fe}\n.content[data-v-8f8ecf50]{width:%?750?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.header[data-v-8f8ecf50]{margin-top:%?24?%;margin-bottom:%?88?%;color:#1577fe;text-align:center;font-size:%?52?%;font-weight:700}.input-wrapper[data-v-8f8ecf50]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;width:%?686?%;height:%?92?%;border-width:%?2?%;border-color:#e5e5e5}.input[data-v-8f8ecf50]{position:absolute;top:%?24?%;left:%?32?%;width:%?686?%;height:%?44?%}.placeholder[data-v-8f8ecf50]{position:absolute;top:%?24?%;left:%?32?%;color:#8d8d8d;font-size:%?32?%\n  /*  \theight: 92rpx; */}.login-wrapper[data-v-8f8ecf50]{-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end\n  /* margin-bottom: 248rpx; */}.button[data-v-8f8ecf50]{width:%?686?%;margin-bottom:%?38?%;font-size:%?36?%;font-weight:700}.error-wrapper[data-v-8f8ecf50]{height:%?50?%}.error[data-v-8f8ecf50]{font-size:%?32?%;color:#dd524d;text-align:right;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end}.form-error[data-v-8f8ecf50]{font-size:%?32?%;color:#dd524d;text-align:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}",""]),t.exports=e},"63db":function(t,e,i){"use strict";i.r(e);var a=i("190b"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},ec71:function(t,e,i){var a=i("6373");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("479f7d45",a,!0,{sourceMap:!1,shadowMode:!1})}}]);