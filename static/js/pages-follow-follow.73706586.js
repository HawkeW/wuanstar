(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-follow-follow"],{"0a8b":function(n,t,e){"use strict";var i={"uni-load-more":e("48cc").default},o=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("v-uni-view",{staticClass:"view"},[e("v-uni-scroll-view",{staticClass:"scroll-v list",style:{height:n.vHeight+"px"},attrs:{enableBackToTop:"true","scroll-top":n.scrollTop,"scroll-y":"true","scroll-with-animation":"true"},on:{scroll:function(t){arguments[0]=t=n.$handleEvent(t),n.scroll.apply(void 0,arguments)},scrolltolower:function(t){arguments[0]=t=n.$handleEvent(t),n.loadMore()}}},[n._l(n.followedList,(function(n,t){return e("v-uni-view",{key:n.id},[e("news-item",{attrs:{options:n}})],1)})),e("uni-load-more",{staticClass:"loading-more",attrs:{status:n.isLoading?"loading":n.total>n.followedList.length?"more":"nomore",showIcon:!0}})],2)],1)},r=[];e.d(t,"b",(function(){return o})),e.d(t,"c",(function(){return r})),e.d(t,"a",(function(){return i}))},2030:function(n,t,e){"use strict";var i=e("254a"),o=e.n(i);o.a},"254a":function(n,t,e){var i=e("df99");"string"===typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);var o=e("4f06").default;o("727f4de6",i,!0,{sourceMap:!1,shadowMode:!1})},"3f2e":function(n,t,e){"use strict";e.r(t);var i=e("0a8b"),o=e("493c");for(var r in o)"default"!==r&&function(n){e.d(t,n,(function(){return o[n]}))}(r);e("2030");var a,f=e("f0c5"),l=Object(f["a"])(o["default"],i["b"],i["c"],!1,null,"0f2dfff0",null,!1,i["a"],a);t["default"]=l.exports},"493c":function(n,t,e){"use strict";e.r(t);var i=e("ac17"),o=e.n(i);for(var r in i)"default"!==r&&function(n){e.d(t,n,(function(){return i[n]}))}(r);t["default"]=o.a},ac17:function(n,t,e){"use strict";var i=e("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e("8e6e"),e("ac6a"),e("456d");var o=i(e("bd86")),r=e("2f62"),a=e("a1a3"),f=i(e("6a5e"));function l(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,i)}return e}function s(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?l(Object(e),!0).forEach((function(t){(0,o.default)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):l(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}var d={data:function(){return{followedList:[],pages:0,currentPage:1,total:0,refreshing:!1,refreshFlag:!1,pulling:!1,vHeight:0,refreshText:"正在加载",isLoading:!1,scrollTop:0,old:{scrollTop:0}}},components:{newsItem:f.default},computed:s({},(0,r.mapState)(["auth","user","hasLogin","lastTab"])),onLoad:function(){try{var n=uni.getStorageSync("user");n?this.login(n):this.logout();var t=uni.getStorageSync("auth");t?this.setAuth(t):this.setAuth("")}catch(e){uni.showToast({title:e,icon:"none"})}this.hasLogin&&this.auth&&this.user&&""==this.followedList?uni.startPullDownRefresh():uni.showModal({content:"登录失败，请重新登录",confirmText:"去登录",success:function(n){n.confirm&&uni.navigateTo({url:"../login/login"})}})},onPullDownRefresh:function(){this.isLoading=!0,this.followedList=[],this.getScreenHeight(),this.getList(),uni.stopPullDownRefresh()},onTabItemTap:function(n){1==n.index&&1==this.lastTab&&this.goTop(),""==this.followedList&&uni.startPullDownRefresh(),this.setLastTab(n.index)},onNavigationBarButtonTap:function(n){1==n.index&&this.goTop()},methods:s({},(0,r.mapMutations)(["setAuth","login","setLastTab"]),{loadMore:function(){var n=this;void 0!==this.currentPage&&(this.isLoading=!0,setTimeout((function(){n.currentPage++,n.getList()}),500))},onrefresh:function(){uni.startPullDownRefresh()},onpullingdown:function(){uni.startPullDownRefresh()},scroll:function(n){this.old.scrollTop=n.detail.scrollTop},goTop:function(){this.scrollTop=this.old.scrollTop,this.$nextTick((function(){this.scrollTop=0}))},getList:function(){var n=this;uni.request({url:a.baseUrl+"/news/follow",method:"GET",header:{Auth:this.auth},data:{pageNum:this.currentPage,pageSize:20},success:function(t){if("200"==t.data.status){var e=[];e=t.data.data.records,n.followedList=n.followedList.concat(e),n.total=t.data.data.total,n.pages=t.data.data.pages,n.isLoading=!1}else uni.showModal({showCancel:!1,content:t.data.message});n.isLoading=!1}})},getScreenHeight:function(){var n=this;uni.getSystemInfo({success:function(t){n.vHeight=t.screenHeight-84}})}})};t.default=d},df99:function(n,t,e){var i=e("24fb");t=i(!1),t.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nuni-image[data-v-0f2dfff0]{width:unset;height:%?210?%}\r\n.view[data-v-0f2dfff0]{font-size:%?32?%;width:%?750?%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.flex-row[data-v-0f2dfff0]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.flex-col[data-v-0f2dfff0]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.list-cell[data-v-0f2dfff0]{width:%?750?%\r\n\t/* padding: 0 30rpx; */}.uni-list-cell-hover[data-v-0f2dfff0]{background-color:#eee}.news-item[data-v-0f2dfff0]{height:%?320?%;position:relative;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;\r\n\t/* border-bottom-width: 1rpx;\n\t\tborder-bottom-style: solid;\n\t\tborder-bottom-color: #ebebeb; */padding-left:%?32?%;padding-right:%?32?%}.news-item-hover[data-v-0f2dfff0]{background-color:#eee}.media-header[data-v-0f2dfff0]{\r\n\tdisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n\t-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;height:%?80?%;padding-top:%?12?%}.media-avatar[data-v-0f2dfff0]{height:%?50?%;width:%?50?%;margin-right:%?16?%;overflow:hidden}.media-name[data-v-0f2dfff0]{font-weight:700;margin-top:%?5?%}.item-time[data-v-0f2dfff0]{position:absolute;font-size:%?24?%;right:%?36?%;top:%?30?%}.news-item-line[data-v-0f2dfff0]{position:absolute;left:%?30?%;right:%?30?%;bottom:0;height:%?1?%;background-color:#ebebeb}.over[data-v-0f2dfff0]{overflow:hidden;text-overflow:ellipsis;\r\n\tdisplay:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;\r\n\tlines:2}.content-img[data-v-0f2dfff0]{\r\n\tdisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n\t-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.media-content[data-v-0f2dfff0]{margin-bottom:%?40?%}.content-flex[data-v-0f2dfff0]{width:%?460?%}.media-title[data-v-0f2dfff0]{font-size:%?36?%;font-weight:700;lines:2;line-height:%?48?%;margin-bottom:%?16?%}.media-sum[data-v-0f2dfff0]{color:#747474;font-size:%?32?%;line-height:%?44?%}.main-img[data-v-0f2dfff0]{margin-left:%?16?%;height:%?210?%;width:%?210?%;overflow:hidden}.media-info[data-v-0f2dfff0]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.info-text[data-v-0f2dfff0]{margin-right:%?20?%;color:#999;font-size:%?24?%}.media-foot[data-v-0f2dfff0]{margin-top:%?25?%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.max-close-view[data-v-0f2dfff0]{position:relative;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;width:%?40?%;height:%?30?%;line-height:%?30?%;border-width:%?1?%;border-style:solid;border-color:#aaa;border-radius:4px;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;text-align:center}.close-l[data-v-0f2dfff0]{position:absolute;width:%?18?%;height:%?1?%;background-color:#aaa}.close-h[data-v-0f2dfff0]{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.close-v[data-v-0f2dfff0]{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}",""]),n.exports=t}}]);