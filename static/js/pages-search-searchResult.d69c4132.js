(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-searchResult","pages-media-media-item-two"],{"114e":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".content[data-v-50c8ee6c]{-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;overflow:hidden;background-color:#fff}.font17[data-v-50c8ee6c]{font-size:%?34?%;color:#878787}.focused[data-v-50c8ee6c]{font-size:%?34?%;color:#1577fe}.search-tab[data-v-50c8ee6c]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;box-sizing:border-box;\nwidth:%?750?%;height:%?80?%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding-top:%?16?%}.tab[data-v-50c8ee6c]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\nwidth:%?375?%;\n\t\t/* height: 80rpx; */-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.tab-index[data-v-50c8ee6c]{height:%?8?%;background-color:#1577fe;left:%?138?%;width:%?88?%;top:%?-8?%;background-color:#007aff;-webkit-transition-duration:.2s;transition-duration:.2s;-webkit-transition-property:left;transition-property:left}.swiper-box[data-v-50c8ee6c]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.scroll-v[data-v-50c8ee6c]{position:absolute;-webkit-box-flex:1;-webkit-flex:1;flex:1;\n-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;\nwidth:%?750?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.refresh[data-v-50c8ee6c]{width:%?750?%;height:64px;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.refresh-view[data-v-50c8ee6c]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.refresh-icon[data-v-50c8ee6c]{width:30px;height:30px;-webkit-transition-duration:.5s;transition-duration:.5s;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transform:rotate(0deg);transform:rotate(0deg);-webkit-transform-origin:15px 15px;transform-origin:15px 15px}.refresh-icon-active[data-v-50c8ee6c]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.loading-icon[data-v-50c8ee6c]{width:20px;height:20px;margin-right:5px;color:#999}.loading-text[data-v-50c8ee6c]{margin-left:2px;font-size:16px;color:#999}.loading-more[data-v-50c8ee6c]{width:%?750?%;height:%?80?%;\ndisplay:-ms-flex;display:-webkit-flex;display:-webkit-box;display:flex;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;\nalign-items:center}.loading-more-text[data-v-50c8ee6c]{font-size:%?34?%;color:#999}",""]),t.exports=e},"1b47":function(t,e,i){var n=i("114e");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("1b3581aa",n,!0,{sourceMap:!1,shadowMode:!1})},"2da0":function(t,e,i){var n=i("3980");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("0888d0ef",n,!0,{sourceMap:!1,shadowMode:!1})},3980:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".media-item[data-v-4c9903d9]{width:%?750?%;border-bottom-width:%?2?%;border-bottom-color:#f8f8f8;\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.media-header[data-v-4c9903d9]{\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;height:%?80?%;padding-top:%?12?%;margin-left:%?32?%}.media-avatar[data-v-4c9903d9]{height:%?50?%;width:%?50?%;margin-right:%?16?%;overflow:hidden}.media-name[data-v-4c9903d9]{font-weight:700;margin-top:%?5?%}.info[data-v-4c9903d9]{margin-top:%?16?%;margin-bottom:%?32?%;font-size:%?32?%;color:#989898}.media-info[data-v-4c9903d9]{padding-left:%?32?%;padding-right:%?32?%}",""]),t.exports=e},5140:function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"media-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goMedia(t.options)}}},[i("v-uni-view",{staticClass:"media-header"},[i("v-uni-view",{staticClass:"media-avatar",attrs:{"hover-class":"news-item-hover"}},[i("cache-image",{attrs:{iconUrl:t.options.icon}})],1),i("v-uni-text",{staticClass:"media-name",attrs:{"hover-class":"news-item-hover"}},[t._v(t._s(t.options.name))])],1),i("v-uni-view",{staticClass:"media-info"},[i("v-uni-text",{staticClass:"info"},[t._v(t._s(t.options.description))])],1)],1)},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},"69ca":function(t,e,i){"use strict";i.r(e);var n=i("f64d"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"852b":function(t,e,i){"use strict";i.r(e);var n=i("969c"),a=i("e272");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("b947");var r,s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"50c8ee6c",null,!1,n["a"],r);e["default"]=c.exports},8893:function(t,e,i){"use strict";var n=i("ee27");i("99af"),i("4160"),i("a630"),i("d3b7"),i("25f0"),i("3ca3"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("ee9e")),o=n(i("a62e")),r=n(i("d446")),s=i("c4d0"),c={components:{newsItem:a.default,uniLoadMore:r.default,mediaItemTwo:o.default},data:function(){return{tabBars:[{id:0,name:"资讯"},{id:1,name:"媒体"}],vHeight:null,newsList:[],keyword:"",positions:[138,500],tabIndex:null,pulling:!1}},onLoad:function(t){var e=this,i=t.keyword;i&&this.updateSearchInput_H5(i),this.setHeight(),setTimeout((function(){e.initData()}),100)},onNavigationBarSearchInputClicked:function(t){uni.redirectTo({url:"./search?keyword=".concat(this.keyword)})},onUnload:function(){this.newsList=[]},methods:{tabChange:function(t){var e="number"===typeof t?t:t.target.current||t.detail.current;this.switchTab(e)},loadMore:function(t){console.log("load".concat(t," current ").concat(this.newsList[t].currentPage)),void 0!==this.newsList[t].currentPage&&(this.newsList[t].currentPage>=1&&this.newsList[t].total<=this.newsList[t].data.length||this.requestData(t))},switchTab:function(t){if(this.tabIndex!==t){this.tabIndex=t;this.newsList[t];console.log("switch to ".concat(t)),0!==this.newsList[t].data.length||this.newsList[t].isLoading?console.log("有数据或加载中 不加载更多"):(console.log("无数据 加载更多"),this.requestData(t))}},requestData:function(t){var e=this;if(!this.newsList[t].isLoading){var i=this.newsList[t].currentPage,n="".concat(s.baseUrl,0===t?"/news":"/news/media");this.newsList[t].isLoading=!0;this.newsList[t].isLoading;uni.request({url:"".concat(n,"?keyword=").concat(this.keyword,"&pageNum=").concat(i,"&pageSize=20"),success:function(i){if("200"===i.data.status.toString()){var n=i.data.data,a=Array.from(n.records);e.newsList[t].data=e.newsList[t].data.concat(a),e.newsList[t].total=n.total,e.newsList[t].pages=n.pages,e.newsList[t].currentPage++,setTimeout((function(){e.newsList[t].isLoading=!1}),1e3)}else uni.showToast({title:i.data.message,icon:"none"}),e.newsList[t].isLoading=!1},fail:function(i){uni.showToast({title:i.data,icon:"none"}),e.newsList[t].isLoading=!1}})}},initData:function(){var t=this;this.tabIndex=0,this.tabBars.forEach((function(e){t.newsList.push({data:[],total:0,pages:0,currentPage:1,refreshing:!1,refreshFlag:!1,refreshText:"",isLoading:!1,loadingText:"加载更多..."})})),this.requestData(0)},setHeight:function(){var t=this;uni.getSystemInfo({success:function(e){t.vHeight=e.screenHeight-44-44}})},updateSearchInput:function(t){var e=plus.webview.currentWebview();e.setTitleNViewSearchInputFocus(!1);var i=e.getStyle().titleNView;i&&uni.getSystemInfo({success:function(n){n.platform,i.searchInput.placeholder=t,e.setStyle({titleNView:i})}})},updateSearchInput_H5:function(t){var e=document.querySelectorAll(".uni-input-input[type=search]")[0];e.placeholder=t}}};e.default=c},"969c":function(t,e,i){"use strict";var n={uniLoadMore:i("d446").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{},[i("v-uni-view",{staticClass:"search-tab"},t._l(t.tabBars,(function(e,n){return i("v-uni-view",{key:n,staticClass:"tab"},[i("v-uni-text",{staticClass:"font17",class:t.tabIndex===n?"focused":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tabChange(n)}}},[t._v(t._s(e.name))])],1)})),1),i("v-uni-view",{staticClass:"tab-index",style:"left:"+t.positions[t.tabIndex]/2+"px;"})],1),i("v-uni-swiper",{staticClass:"swiper-box",staticStyle:{flex:"1"},attrs:{current:t.tabIndex},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.tabChange.apply(void 0,arguments)}}},t._l(t.newsList,(function(e,n){return i("v-uni-swiper-item",{key:n},[i("v-uni-scroll-view",{staticClass:"scroll-v list",style:"height: "+t.vHeight+"px;",attrs:{enableBackToTop:"true","scroll-y":!0},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.loadMore(n)}}},[0===n?t._l(e.data,(function(t,e){return i("v-uni-view",{key:t.id},[i("news-item",{attrs:{options:t}})],1)})):t._l(e.data,(function(t,e){return i("v-uni-view",{key:t.id},[i("media-item-two",{attrs:{options:t}})],1)})),i("uni-load-more",{staticClass:"loading-more",attrs:{status:e.isLoading?"loading":e.total>e.data.length?"more":"nomore",showIcon:!0}})],2)],1)})),1)],1)},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},"9ea2":function(t,e,i){"use strict";var n=i("2da0"),a=i.n(n);a.a},a62e:function(t,e,i){"use strict";i.r(e);var n=i("5140"),a=i("69ca");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("9ea2");var r,s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"4c9903d9",null,!1,n["a"],r);e["default"]=c.exports},b947:function(t,e,i){"use strict";var n=i("1b47"),a=i.n(n);a.a},e272:function(t,e,i){"use strict";i.r(e);var n=i("8893"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},f64d:function(t,e,i){"use strict";var n=i("ee27");i("99af"),i("c975"),i("ac1f"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("c4d0"),o=n(i("d8ee")),r={name:"media-item-two",props:{options:{type:Object,default:function(t){return{}}}},components:{cacheImage:o.default},data:function(){return{avatar:""}},created:function(){this.handleImage()},methods:{goMedia:function(t){uni.navigateTo({url:"../media/media?name="+t.media+"&mediaId="+t.mediaId})},handleImage:function(){var t=this.options.image.replace(/&amp;/g,"&");-1!=t.indexOf("//")?this.avatar=t:this.avatar="".concat(a.baseUrl,"/file?fileName=").concat(t,"&type=image")}}};e.default=r}}]);